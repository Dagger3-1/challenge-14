<div class="post">
  <article>
    <h2>{{post.title}}</h2>
    <p>Posted by {{post.user.username}} on {{format_date post.created_at}}</p>
    <div class="content">
      {{post.content}}
    </div>
  </article>

  {{#if logged_in}}
  <section class="comment-form">
    <h3>Add a Comment</h3>
    <form class="new-comment-form">
      <input type="hidden" id="post-id" value="{{post.id}}">
      <div>
        <label for="comment-content">Comment:</label>
        <textarea id="comment-content" name="content" required></textarea>
      </div>
      <button type="submit">Submit Comment</button>
    </form>
  </section>
  {{/if}}

  {{#if post.comments.length}}
  <section class="comments">
    <h3>Comments</h3>
    {{#each post.comments as |comment|}}
    <div class="comment">
      <p>{{comment.content}}</p>
      <p>- {{comment.user.username}}, {{format_date comment.created_at}}</p>
    </div>
    {{/each}}
  </section>
  {{/if}}
</div> 